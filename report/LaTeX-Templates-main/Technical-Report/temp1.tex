\documentclass[10pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{geometry}
\usepackage{mathrsfs}
\usepackage{yfonts}
 \geometry{
 a4paper,
 total={170mm,257mm},
 left=20mm,
 top=20mm,
 }
\begin{document}
\section{Method}

The server \textit{ticks} every \(0.1\) seconds, wherewithin one command can be sent from each of the players and from the trainer. The program runs a loop in the background which sends a command from the trainer to the server continually (at each tick), requesting information about the state of the field \(S_i\) at that time step. The field state is constituted by the position of the ball and the positions and rotations of all the players.

The teams are represented as set \(\mathcal{T} = \left\{ T_A, T_B \right\}\), where \(T_A = (\text{``Team\_A''}, P_{T_A})\) and \(T_B = (\text{``Team\_B''}, P_{T_B})\). \(P_T : \mathcal{I} \to \mathcal{P} \) is a function mapping a \textit{player number} \(i\in \mathcal{I} = \{1,\cdots,6\}\) to each player \(p \in \mathcal{P}\) in a given team. A player \(p\in \mathcal{P}\) is a vector \((\phi, c, f)\) where \(\phi = (x, y, \theta) \in \mathbb{R}^3\) describes the position and angle of the player; \(c \in \mathcal{C} = \mathbb{R}^6\) is a vector representing the \textit{configuration} or \textit{parameters} for that player; \(\mathcal{A} \ni f:\mathcal{S}\times \mathcal{C} \to \mathcal{S}\) is the the player's given task from a set of possible tasks \(\mathcal{A}\), all of which return within one tick; \(s \in \{\top,\bot\}\) represents the \textit{status} of \(f\), where \(\top\) means "the task is completed" and \(\bot\) means "the task is ongoing".

At each time step \(i\), a background process is executing each player's task \(F := \bigcup_{(T,i)\in\mathcal{T} \times \mathcal{I}} \pi_f(P_T(i)) \), which (according to the task definition and the state of the field) sends commands from those players to the server, resulting in the next state \(\mathcal{S}_{i+1} = \left(\bigcirc_{f_c\in F} f_c\right)(\mathcal{S}_i)\).

The structure of the behaviour tree is generated by the following logic: \(\text{Kick ball} \Rightarrow \text{Close to ball} \Rightarrow \text{Go to ball}\), \(\mathscr{K} \subseteq \mathscr{C}\)

\end{document}
